<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Distance Boston - FÃ¨s : Notre espace pour passer le temps ensemble">
    <title>Boston âœˆï¸ Fez - Lilya & Ahmed</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <div id="starfield"></div>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <span class="logo-text">Lilya</span>
                <span class="logo-star">âœ¦</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="distance.html" class="active">Distance</a></li>
            </ul>
        </div>
    </nav>

    <header class="hero distance-hero">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="hero-badge">Connexion Ã‰tablie</div>
            <h1 class="hero-title">
                <span class="city-name boston">Boston</span>
                <span class="distance-line">â€”â€”â€”â€” 5,742 km â€”â€”â€”â€”</span>
                <span class="city-name fez">FÃ¨s</span>
            </h1>
            <p class="hero-subtitle">MÃªme loin, on est sous les mÃªmes Ã©toiles âœ¨</p>
        </div>
    </header>

    <section class="section clocks-section">
        <div class="container">
            <div class="clocks-container">
                <div class="clock-card" id="clock-boston">
                    <div class="clock-icon">ğŸ‡ºğŸ‡¸</div>
                    <h3 class="clock-city">Boston</h3>
                    <div class="time-display" data-timezone="America/New_York">--:--</div>
                    <div class="date-display">Chargement...</div>
                </div>

                <div class="map-container">
                    <svg class="connection-line" viewBox="0 0 200 100" preserveAspectRatio="none">
                        <!-- Curved dashed line -->
                        <path d="M 0,80 Q 100,20 200,80" fill="none" class="path-line" />
                        <!-- Moving Plane -->
                        <g class="plane-icon">
                            <text x="0" y="0" font-size="20">âœˆï¸</text>
                            <animateMotion dur="4s" repeatCount="indefinite" rotate="auto"
                                path="M 0,80 Q 100,20 200,80" />
                        </g>
                    </svg>
                    <div class="pulsing-heart-center">â¤ï¸</div>
                </div>

                <div class="clock-card" id="clock-fez">
                    <div class="clock-icon">ğŸ‡²ğŸ‡¦</div>
                    <h3 class="clock-city">FÃ¨s</h3>
                    <div class="time-display" data-timezone="Africa/Casablanca">--:--</div>
                    <div class="date-display">Chargement...</div>
                </div>
            </div>
        </div>
    </section>

    <section class="section activities-section">
        <div class="container">
            <div class="section-header">
                <span class="section-badge">Passer le Temps</span>
                <h2 class="section-title">En attendant de se voir...</h2>
                <div class="title-underline"></div>
            </div>

            <div class="activities-grid">
                <!-- Activity 1: Countdown -->
                <div class="activity-card countdown-card">
                    <h3>Prochaines Retrouvailles (Placeholder)</h3>
                    <div id="countdown" class="countdown-display">
                        <div class="time-unit"><span id="days">00</span><label>Jours</label></div>
                        <div class="time-unit"><span id="hours">00</span><label>Heures</label></div>
                        <div class="time-unit"><span id="minutes">00</span><label>Mins</label></div>
                    </div>
                    <p class="card-caption">Ã‡a passe plus vite qu'on croit ! â³</p>
                </div>

                <!-- Activity 2: Daily Prompt/Game -->
                <div class="activity-card game-card">
                    <h3>Discussion du Jour ğŸ²</h3>
                    <div class="category-selector">
                        <button class="cat-btn active" data-cat="soft">â˜ï¸ Soft</button>
                        <button class="cat-btn" data-cat="deep">ğŸŒŠ Deep</button>
                        <button class="cat-btn" data-cat="spicy">ğŸ”¥ Spicy</button>
                    </div>
                    <div class="prompt-box">
                        <p id="daily-prompt">Clique pour une idÃ©e de sujet !</p>
                    </div>
                    <button class="action-btn" id="new-prompt-btn">Nouveau Sujet</button>
                </div>

                <!-- Activity 3: Send Love Signal -->
                <div class="activity-card signal-card">
                    <h3>Signal d'Amour ğŸ“¡</h3>
                    <div class="signal-visual" id="signal-visual"></div>
                    <button class="action-btn pulse-btn" id="send-signal-btn">Envoyer une pensÃ©e âœ¨</button>
                    <p class="signal-status" id="signal-status">PrÃªt Ã  envoyer...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Weather Section -->
    <section class="section weather-section">
        <div class="container">
            <div class="section-header">
                <span class="section-badge">MÃ©tÃ©o en Direct</span>
                <h2 class="section-title">Sous le mÃªme ciel ? â˜€ï¸ğŸŒ™</h2>
                <div class="title-underline"></div>
            </div>
            <div class="weather-grid">
                <div class="weather-card" id="weather-boston">
                    <div class="weather-icon">ğŸŒ¤ï¸</div>
                    <div class="weather-info">
                        <h3>Boston</h3>
                        <p class="temp">...</p>
                        <p class="condition">Chargement...</p>
                    </div>
                </div>
                <div class="weather-divider"></div>
                <div class="weather-card" id="weather-fez">
                    <div class="weather-icon">ğŸŒ™</div>
                    <div class="weather-info">
                        <h3>FÃ¨s</h3>
                        <p class="temp">...</p>
                        <p class="condition">Chargement...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Music Player Section -->
    <section class="section music-section">
        <div class="container">
            <div class="music-player-container">
                <div class="vinyl-record">
                    <div class="vinyl-center"></div>
                </div>
                <div class="player-controls">
                    <h3>Radio Distance ğŸ“»</h3>
                    <p class="now-playing">SÃ©lectionnez une vibe...</p>
                    <div class="track-list">
                        <button class="track-btn" data-src="miami.mp3">ğŸŒ´ Vibe Miami</button>
                        <button class="track-btn" data-src="essaouira.mp3">ğŸŒŠ Vibe Essaouira</button>
                        <button class="track-btn" data-src="puertorico.mp3">ğŸ’ƒ Vibe Puerto Rico</button>
                    </div>
                    <div class="main-controls">
                        <button id="play-pause-btn">â–¶</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Time Capsule Section -->
    <section class="section capsule-section">
        <div class="container">
            <div class="section-header">
                <span class="section-badge">Capsule Temporelle</span>
                <h2 class="section-title">Message pour le Futur ğŸ’Œ</h2>
                <div class="title-underline"></div>
                <p class="section-intro">Laissez un message ici qu'on relira lors de nos retrouvailles.</p>
            </div>

            <div class="capsule-container">
                <textarea id="capsule-input"
                    placeholder="Cher futur nous... (J'ai trop hÃ¢te de te voir, aujourd'hui il s'est passÃ©...)"
                    maxlength="500"></textarea>
                <div class="capsule-actions">
                    <button class="hero-btn" id="save-capsule-btn">
                        <span>Sceller la Capsule</span>
                        <span>ğŸ”’</span>
                    </button>
                </div>
                <div id="capsule-message" class="capsule-status"></div>

                <div id="locked-capsule" class="locked-view hidden">
                    <div class="lock-icon">ğŸ”’</div>
                    <h3>Capsule ScellÃ©e</h3>
                    <p>Ce message est verrouillÃ© jusqu'Ã  votre rencontre.</p>
                    <p class="capsule-date">ScellÃ© le : <span id="capsule-date-display">--/--/----</span></p>
                    <button id="reset-capsule-btn" class="text-link">Ouvrir (Tricheurs !) / Reset</button>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>Fait avec â¤ï¸ pour Lilya & Ahmed</p>
        </div>
    </footer>

    <!-- Identity Modal -->
    <div id="identity-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Qui es-tu ? ğŸ•µï¸â€â™‚ï¸</h3>
            <p>Pour savoir qui envoie les pensÃ©es...</p>
            <div class="identity-buttons">
                <button class="identity-btn" data-id="Ahmed">ğŸ§” Je suis Ahmed</button>
                <button class="identity-btn" data-id="Lilya">ğŸ‘©â€ğŸ¦± Je suis Lilya</button>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>

</html>